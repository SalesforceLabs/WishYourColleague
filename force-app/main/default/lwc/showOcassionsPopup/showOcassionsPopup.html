<template>
    <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open slds-modal_medium ocassionPopup"
        aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" style="height:80%;top:10%;bottom:10%;">
        <div class="slds-modal__container centerpopup">
            <header class="slds-modal__header ">
                <lightning-button-icon icon-name="utility:close" class="slds-float_right" onclick={closeModal}
                    alternative-text="close"></lightning-button-icon>
                <h2 id="id-of-modalheader-h2" class="slds-text-heading_medium">Select an ocassion</h2>
                <p class="slds-m-top_x-small">Please search using the name of the ocasssion</p>
            </header> 
            <div class="slds-modal__content slds-grid slds-grow" >
                <div class="slds-grid slds-grid_vertical">
                  <div class="slds-p-vertical_x-small slds-p-horizontal_large slds-shrink-none slds-theme_shade">
                    <div class="slds-form-element">
                      <label class="slds-form-element__label slds-assistive-text" for="combobox-unique-id-21">Search</label>
                      <div class="slds-form-element__control">
                        <div class="slds-combobox_container">
                          <div class="slds-combobox slds-dropdown-trigger slds-dropdown-trigger_click" aria-expanded="false" aria-haspopup="listbox" role="combobox">
                            <div class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right" role="none">
                              <lightning-input onchange={getOcassions} value=""  placeholder="Search for Occasions" ></lightning-input>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="slds-scrollable slds-grow"  >
                    <div class="slds-scrollable_none">
                      <table aria-multiselectable="true" class="slds-table slds-no-row-hover slds-table_bordered slds-table_fixed-layout slds-table_resizable-cols" role="grid">
                        <thead>
                          <tr class="slds-line-height_reset">
                            <th scope="col" class="" style="width:3.75rem"></th>
                            <th aria-label="Name" aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col">
                                <a class="slds-th__action slds-text-link_reset" href="javascript:void(0);" role="button" tabindex="-1">
                                    <div class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                                      <span class="slds-truncate" title="Ocasssion">Ocassion</span>
                                    </div>
                                  </a>
                              <div class="slds-resizable">
                                <input type="range" aria-label="Name column width" class="slds-resizable__input slds-assistive-text"  max="1000" min="20" tabindex="-1" />
                                <span class="slds-resizable__handle">
                                  <span class="slds-resizable__divider"></span>
                                </span>
                              </div>
                            </th>
                            <th aria-label="Date" aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col">
                                <a class="slds-th__action slds-text-link_reset" href="javascript:void(0);" role="button" tabindex="-1">
                                    <div class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                                      <span class="slds-truncate" title="Ocassion Date">Ocassion Date</span>
                                    </div>
                                  </a>
                              <div class="slds-resizable">
                                <input type="range"  class="slds-resizable__input slds-assistive-text" max="1000" min="20" tabindex="-1" />
                                <span class="slds-resizable__handle">
                                  <span class="slds-resizable__divider"></span>
                                </span>
                              </div>
                            </th>
                          </tr>
                        </thead>
                    <template for:each={ocassions} for:item="ocassion">
                        <tbody  key={ocassion.id}  data-ocassionid={ocassion.id} onchange={handleOcassionSelect}>
                                      <tr aria-selected="false" class="slds-hint-parent">
                                        <td  role="gridcell">
                                            <div class="slds-truncate padingRadio"><input type="radio"></div>
                                          </td>
                                        <td role="gridcell">
                                          <div class="slds-truncate" title="Name"> {ocassion.ocassionName} </div>
                                        </td>
                                        <td role="gridcell">
                                          <div class="slds-truncate" title="Date">{ocassion.occDate}</div>
                                        </td>
                                      </tr>
                                    </tbody>
                    </template>
</table>
</div>
</div>
</div>
</div>
<footer class="slds-modal__footer">
<button class="slds-button slds-button_brand" onclick={handlesendOcassionId}>See your memories</button>
</footer>

</div>
</section>
<div class="slds-backdrop slds-backdrop_open"></div>
</template>